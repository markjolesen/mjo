<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
    Copyright (c) 2021 Mark J. Olesen
  
    CC BY 4.0
  
    This file is licensed under the Creative Commons Attribution 4.0
    International license.
  
    You are free to:
  
      Share --- copy and redistribute the material in any medium or format
  
      Adapt --- remix, transform, and build upon the material for any purpose,
                even commercially
  
    Under the following terms:
  
      Attribution --- You must give appropriate credit, provide a link
                      to the license, and indicate if changes were made. You
                      may do so in any reasonable manner, but not in any way
                      that suggests the licensor endorses you or your use.
  
     Full text of this license can be found in
     '${MJO_EXTRA}/licenses/CC-BY-SA-4.0'or visit
     'http://creativecommons.org/licenses/by/4.0/' or send a letter
     to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
  
    This file is part of mjoextra library
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>mistream</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mistream</td>
    <td class="head-vol">LOCAL</td>
    <td class="head-rtitle">mistream</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">mjo_istream_free</code>,
    <code class="Nm">mjo_istream_block_malloc</code>,
    <code class="Nm">mjo_istream_file_malloc</code> &#x2014;
    <span class="Nd">allocate or release a mjo_istream_t memory
  resource</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
    &lt;<a class="In">mistream.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">mjo_istream_mem_free</code>(<var class="Fa">mjo_istream_t
    *const io_obj</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">mjo_istream_block_malloc</code>(<var class="Fa">mjo_istream_t
    *const o_obj</var>, <var class="Fa">enum mjo_istream_option const
    i_option</var>, <var class="Fa">void const *i_block</var>,
    <var class="Fa">size_t const i_octets</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">mjo_istream_file_malloc</code>(<var class="Fa">mjo_istream_t
    *const o_obj</var>, <var class="Fa">enum mjo_istream_option const
    i_option</var>, <var class="Fa">mjo_read_t const i_read</var>,
    <var class="Fa">mjo_handle_t const i_handle</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><a class="permalink" href="#mjo_istream_free"><code class="Fn" id="mjo_istream_free">mjo_istream_free</code></a>()
    release a <var class="Vt">mjo_istream_t</var> memory resource.</p>
<p class="Pp" id="mjo_istream_block_malloc"><a class="permalink" href="#mjo_istream_block_malloc"><code class="Fn">mjo_istream_block_malloc</code></a>()
    allocate a <var class="Vt">mjo_istream_t</var> memory resource from a block
    of memory.</p>
<p class="Pp" id="mjo_istream_file_malloc"><a class="permalink" href="#mjo_istream_file_malloc"><code class="Fn">mjo_istream_file_malloc</code></a>()
    allocate a <var class="Vt">mjo_istream_t</var> memory resource from an
    abstract stream.</p>
<p class="Pp">Following is a description of the arguments.</p>
<dl class="Bl-tag">
  <dt><var class="Fa">o_obj</var></dt>
  <dd>pointer to a &#x2018;mjo_istream_t *&#x2019; that shall be set to the
      address of a newly created memory resource</dd>
  <dt><var class="Fa">io_obj</var></dt>
  <dd>pointer to a &#x2018;mjo_istream_t *&#x2019; that shall be an address of a
      previously allocated memory resource</dd>
  <dt><var class="Fa">i_option</var></dt>
  <dd>reserved; currently not used</dd>
  <dt><var class="Fa">i_block</var></dt>
  <dd>The block of memory to read from</dd>
  <dt><var class="Fa">i_octet</var></dt>
  <dd>count of octets to read from <var class="Fa">i_block</var></dd>
</dl>
<dl class="Bl-tag">
  <dt>Release Resource</dt>
  <dd>If both <var class="Fa">io_obj</var> and <var class="Fa">*io_obj</var> is
      not nil, any internal resources held by the object will be released.
      Following, <a class="Xr" href="mjo_free.3.html">mjo_free(3)</a> shall be
      invoked on <var class="Fa">io_obj</var>.</dd>
  <dt>Allocate Resource</dt>
  <dd><a class="Xr" href="mjo_malloc.3.html">mjo_malloc(3)</a> shall be invoked
      to create a <var class="Vt">mjo_istream_t</var> object followed by
      allocation of any internal resources.</dd>
</dl>
<p class="Pp">If <var class="Fa">io_obj</var> is nil, it shall be denoted as an
    invalid argument.</p>
<p class="Pp">If <var class="Fa">i_block</var> or <var class="Fa">i_read</var>
    is nil, <var class="Fa">*io_obj</var> shall be set to nil and it shall be
    denoted as an invalid argument.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp">If any of the arguments are invalid, errno shall be set to
    <code class="Er">EINVAL</code>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">The block of memory is not managed by this object. If the memory
    resource was allocated dynamically, it must be released by the caller.</p>
<p class="Pp">The block of memory is not copied internally. Therefore, it must
    remain valid until after the stream variant is released.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE"><a class="permalink" href="#FUTURE">FUTURE</a></h1>
<p class="Pp">Possibly create an option to allocate and copy the block of memory
    internally.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 25, 2021</td>
    <td class="foot-os">OpenBSD 7.0</td>
  </tr>
</table>
</body>
</html>
