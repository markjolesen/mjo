<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
    Copyright (c) 2021 Mark J. Olesen
  
    CC BY 4.0
  
    This file is licensed under the Creative Commons Attribution 4.0
    International license.
  
    You are free to:
  
      Share --- copy and redistribute the material in any medium or format
  
      Adapt --- remix, transform, and build upon the material for any purpose,
                even commercially
  
    Under the following terms:
  
      Attribution --- You must give appropriate credit, provide a link
                      to the license, and indicate if changes were made. You
                      may do so in any reasonable manner, but not in any way
                      that suggests the licensor endorses you or your use.
  
     Full text of this license can be found in
     '${MJO_EXTRA}/licenses/CC-BY-SA-4.0'or visit
     'http://creativecommons.org/licenses/by/4.0/' or send a letter
     to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
  
    This file is part of mjoextra library
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>mvector</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mvector</td>
    <td class="head-vol">LOCAL</td>
    <td class="head-rtitle">mvector</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">mjo_vector_free</code>,
    <code class="Nm">mjo_vector_malloc</code> &#x2014; <span class="Nd">allocate
    or release a mjo_vector_t memory resource</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
    &lt;<a class="In">mvector.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">mjo_vector_free</code>(<var class="Fa">mjo_vector_t *const
    io_obj</var>);</p>
<p class="Pp"><var class="Ft">void</var>
  <br/>
  <code class="Fn">mjo_vector_malloc</code>(<var class="Fa">mjo_vector_t *const
    o_obj</var>, <var class="Fa">size_t const i_count</var>,
    <var class="Fa">enum mjo_vector_variant const i_variant</var>,
    <var class="Fa">size_t const i_size_struct</var>,
    <var class="Fa">mjo_vector_discharge_t const i_discharge</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">A <var class="Fa">mjo_vector</var> is a homegenous array (vector)
    of a specific data type (<var class="Vt">mjo_vector_variant</var>) which is
    dynmically resized. Internally, the array will always grow by a number of
    elements but never shrunk.</p>
<p class="Pp" id="mjo_arg_free"><a class="permalink" href="#mjo_arg_free"><code class="Fn">mjo_arg_free</code></a>()
    release a <var class="Vt">mjo_vector_t</var> memory resource.</p>
<p class="Pp" id="mjo_vector_malloc"><a class="permalink" href="#mjo_vector_malloc"><code class="Fn">mjo_vector_malloc</code></a>()
    allocate a <var class="Vt">mjo_vector_t</var> memory resource.</p>
<p class="Pp">Following is a description of the arguments.</p>
<dl class="Bl-tag">
  <dt><var class="Fa">o_obj</var></dt>
  <dd>pointer to a &#x2018;mjo_vector_t *&#x2019; that shall be set to the
      address of a newly created memory resource</dd>
  <dt><var class="Fa">io_obj</var></dt>
  <dd>pointer to a &#x2018;mjo_vector_t *&#x2019; that shall be an address of a
      previously allocated memory resource</dd>
  <dt><var class="Fa">i_count</var></dt>
  <dd>the number of preallocated slots in the vector to create</dd>
  <dt><var class="Fa">i_variant</var></dt>
  <dd>the data type of the vector</dd>
  <dt><var class="Fa">i_size_struct</var></dt>
  <dd>if <var class="Fa">i_variant</var> is of type
      <var class="Vt">mjo_var_variant_struct</var> it shall denote the size of
      the data structure in octets. Otherwise, the argument shall be
    ignored.</dd>
  <dt id="mjo_vector_free"><var class="Fa">i_discharge</var></dt>
  <dd>pointer to &#x2018;mjo_vector_discharge_t&#x2019; that shall be invoked on
      each element when the resource is released
      (<a class="permalink" href="#mjo_vector_free"><code class="Fn">mjo_vector_free</code></a>()).</dd>
</dl>
<dl class="Bl-tag">
  <dt>Release Resource</dt>
  <dd>if both <var class="Fa">io_obj</var> and <var class="Fa">*io_obj</var> is
      not nil, any internal resources held by the object will be released.
      Following, <a class="Xr" href="mjo_free.3.html">mjo_free(3)</a> shall be
      invoked on <var class="Fa">io_obj</var>.</dd>
  <dt>Allocate Resource</dt>
  <dd><a class="Xr" href="mjo_malloc.3.html">mjo_malloc(3)</a> shall be invoked
      to create a <var class="Vt">mjo_arg_t</var> object followed by allocation
      of any internal resources.</dd>
</dl>
<p class="Pp">If <var class="Fa">io_obj</var> is nil, it shall be denoted as an
    invalid argument.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp">If any of the arguments are invalid, errno shall be set to
    <code class="Er">EINVAL</code>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">It is assumed that any object inserted/pushed onto the vector are
    compatible with the discharge method, if any. That is, the method knows how
    to validate and destruct the object.</p>
<p class="Pp">The vector can be cast to the variant type and indexed like a
    &#x2018;C&#x2019; array.</p>
<p class="Pp">Internally, the vector will always allocate at least one object
    and set all of it's members to zero's.</p>
<p class="Pp" id="mjo_vector_count">Before accessing the vector,
    <a class="permalink" href="#mjo_vector_count"><code class="Fn">mjo_vector_count</code></a>()
    shall be invoked to validate the index against the actual number of
    elements.</p>
<p class="Pp" id="mjo_vector_count~2">Indexing the first element of the array
    when
    <a class="permalink" href="#mjo_vector_count~2"><code class="Fn">mjo_vector_count</code></a>()
    is zero is considered an error. However, there is nothing to prevent this
    scenario from being abused.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="mjo_vector_clear.3.html">mjo_vector_clear(3)</a>
    <a class="Xr" href="mjo_vector_push.3.html">mjo_vector_push(3)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 25, 2021</td>
    <td class="foot-os">OpenBSD 7.0</td>
  </tr>
</table>
</body>
</html>
