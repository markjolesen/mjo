/*
 CC0 1.0 Universal --- Public Domain

 To the extent possible under law, Mark J. Olesen has waived all copyright
 and related or neighboring rights to this file (mjo_utf8_punct.c). 
 This work is published from: United States.

 Full text of this license can be found in '${MJO_HOME}/licenses/CC-CC0'
 or visit 'https://creativecommons.org/publicdomain/zero/1.0/legalcode.txt' or
 send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.
*/
#include <string>

#include <stdio.h>
#include <stdint.h>

#include <iconv.h>
#include <unicode/unistr.h>

#include "mjo_utf8.h"
#include "mjo_stdlib.h"

struct punct
{
	UChar32 codepoint;
	char const *comment;
} punctuation_table[]=
{
	{0x000021,"exclamation mark"},
	{0x000022,"quotation mark"},
	{0x000023,"number sign"},
	{0x000024,"dollar sign"},
	{0x000025,"percent sign"},
	{0x000026,"ampersand"},
	{0x000027,"apostrophe (apostrophe-quote)"},
	{0x000028,"left parenthesis (opening parenthesis)"},
	{0x000029,"right parenthesis (closing parenthesis)"},
	{0x00002a,"asterisk"},
	{0x00002b,"plus sign"},
	{0x00002c,"comma"},
	{0x00002d,"hyphen-minus"},
	{0x00002e,"full stop (period)"},
	{0x00002f,"solidus (slash)"},
	{0x00003a,"colon"},
	{0x00003b,"semicolon"},
	{0x00003c,"less-than sign"},
	{0x00003d,"equals sign"},
	{0x00003e,"greater-than sign"},
	{0x00003f,"question mark"},
	{0x000040,"commercial at"},
	{0x00005b,"left square bracket (opening square bracket)"},
	{0x00005c,"reverse solidus (backslash)"},
	{0x00005d,"right square bracket (closing square bracket)"},
	{0x00005e,"circumflex accent (spacing circumflex)"},
	{0x00005f,"low line (spacing underscore)"},
	{0x000060,"grave accent (spacing grave)"},
	{0x00007b,"left curly bracket (opening curly bracket)"},
	{0x00007c,"vertical line (vertical bar)"},
	{0x00007d,"right curly bracket (closing curly bracket)"},
	{0x00007e,"tilde"},
	{0x00007f,"(delete)"},
	{0x0000a1,"inverted exclamation mark"},
	{0x0000a2,"cent sign"},
	{0x0000a3,"pound sign"},
	{0x0000a4,"currency sign"},
	{0x0000a5,"yen sign"},
	{0x0000a6,"broken bar (broken vertical bar)"},
	{0x0000a7,"section sign"},
	{0x0000a8,"diaeresis (spacing diaeresis)"},
	{0x0000a9,"copyright sign"},
	{0x0000aa,"feminine ordinal indicator"},
	{0x0000ab,"left-pointing double angle quotation mark (left pointing guillemet)"},
	{0x0000ac,"not sign"},
	{0x0000ad,"soft hyphen"},
	{0x0000ae,"registered sign (registered trade mark sign)"},
	{0x0000af,"macron (spacing macron)"},
	{0x0000b0,"degree sign"},
	{0x0000b1,"plus-minus sign (plus-or-minus sign)"},
	{0x0000b4,"acute accent (spacing acute)"},
	{0x0000b5,"micro sign"},
	{0x0000b6,"pilcrow sign (paragraph sign)"},
	{0x0000b7,"middle dot"},
	{0x0000b8,"cedilla (spacing cedilla)"},
	{0x0000ba,"masculine ordinal indicator"},
	{0x0000bb,"right-pointing double angle quotation mark (right pointing guillemet)"},
	{0x0000bc,"vulgar fraction one quarter (fraction one quarter)"},
	{0x0000bd,"vulgar fraction one half (fraction one half)"},
	{0x0000be,"vulgar fraction three quarters (fraction three quarters)"},
	{0x0000bf,"inverted question mark"},
	{0x00037e,"greek question mark"},
	{0x000387,"greek ano teleia"},
	{0x00055a,"armenian apostrophe"},
	{0x00055b,"armenian emphasis mark"},
	{0x00055c,"armenian exclamation mark"},
	{0x00055d,"armenian comma"},
	{0x00055e,"armenian question mark"},
	{0x00055f,"armenian abbreviation mark"},
	{0x000589,"armenian full stop"},
	{0x0005c0,"hebrew punctuation paseq"},
	{0x0005c3,"hebrew punctuation sof pasuq"},
	{0x0005c6,"hebrew punctuation nun hafukha"},
	{0x0005f3,"hebrew punctuation geresh"},
	{0x0005f4,"hebrew punctuation gershayim"},
	{0x000609,"arabic-indic per mille sign"},
	{0x00060a,"arabic-indic per ten thousand sign"},
	{0x00060c,"arabic comma"},
	{0x00060d,"arabic date separator"},
	{0x00061b,"arabic semicolon"},
	{0x00061e,"arabic triple dot punctuation mark"},
	{0x00061f,"arabic question mark"},
	{0x00066a,"arabic percent sign"},
	{0x00066b,"arabic decimal separator"},
	{0x00066c,"arabic thousands separator"},
	{0x00066d,"arabic five pointed star"},
	{0x0006d4,"arabic full stop"},
	{0x000700,"syriac end of paragraph"},
	{0x000701,"syriac supralinear full stop"},
	{0x000702,"syriac sublinear full stop"},
	{0x000703,"syriac supralinear colon"},
	{0x000704,"syriac sublinear colon"},
	{0x000705,"syriac horizontal colon"},
	{0x000706,"syriac colon skewed left"},
	{0x000707,"syriac colon skewed right"},
	{0x000708,"syriac supralinear colon skewed left"},
	{0x000709,"syriac sublinear colon skewed right"},
	{0x00070a,"syriac contraction"},
	{0x00070b,"syriac harklean obelus"},
	{0x00070c,"syriac harklean metobelus"},
	{0x00070d,"syriac harklean asteriscus"},
	{0x0007f7,"nko symbol gbakurunen"},
	{0x0007f8,"nko comma"},
	{0x0007f9,"nko exclamation mark"},
	{0x000830,"samaritan punctuation nequdaa"},
	{0x000831,"samaritan punctuation afsaaq"},
	{0x000832,"samaritan punctuation anged"},
	{0x000833,"samaritan punctuation bau"},
	{0x000834,"samaritan punctuation atmaau"},
	{0x000835,"samaritan punctuation shiyyaalaa"},
	{0x000836,"samaritan abbreviation mark"},
	{0x000837,"samaritan punctuation melodic qitsa"},
	{0x000838,"samaritan punctuation ziqaa"},
	{0x000839,"samaritan punctuation qitsa"},
	{0x00083a,"samaritan punctuation zaef"},
	{0x00083b,"samaritan punctuation turu"},
	{0x00083c,"samaritan punctuation arkaanu"},
	{0x00083d,"samaritan punctuation sof mashfaat"},
	{0x00083e,"samaritan punctuation annaau"},
	{0x00085e,"mandaic punctuation"},
	{0x000964,"devanagari danda"},
	{0x000965,"devanagari double danda"},
	{0x000970,"devanagari abbreviation sign"},
	{0x0009fd,"bengali abbreviation sign"},
	{0x000a76,"gurmukhi abbreviation sign"},
	{0x000af0,"gujarati abbreviation sign"},
	{0x000c77,"telugu sign siddham"},
	{0x000c84,"kannada sign siddham"},
	{0x000df4,"sinhala punctuation kunddaliya"},
	{0x000e4f,"thai character fongman"},
	{0x000e5a,"thai character angkhankhu"},
	{0x000e5b,"thai character khomut"},
	{0x000f04,"tibetan mark initial yig mgo mdun ma"},
	{0x000f05,"tibetan mark closing yig mgo sgab ma"},
	{0x000f06,"tibetan mark caret yig mgo phur shad ma"},
	{0x000f07,"tibetan mark yig mgo tsheg shad ma"},
	{0x000f08,"tibetan mark sbrul shad"},
	{0x000f09,"tibetan mark bskur yig mgo"},
	{0x000f0a,"tibetan mark bka-undefined shog yig mgo"},
	{0x000f0b,"tibetan mark intersyllabic tsheg"},
	{0x000f0c,"tibetan mark delimiter tsheg bstar"},
	{0x000f0d,"tibetan mark shad"},
	{0x000f0e,"tibetan mark nyis shad"},
	{0x000f0f,"tibetan mark tsheg shad"},
	{0x000f10,"tibetan mark nyis tsheg shad"},
	{0x000f11,"tibetan mark rin chen spungs shad"},
	{0x000f12,"tibetan mark rgya gram shad"},
	{0x000f14,"tibetan mark gter tsheg"},
	{0x000f85,"tibetan mark paluta"},
	{0x000fd0,"tibetan mark bska-undefined shog gi mgo rgyan"},
	{0x000fd1,"tibetan mark mnyam yig gi mgo rgyan"},
	{0x000fd2,"tibetan mark nyis tsheg"},
	{0x000fd3,"tibetan mark initial brda rnying yig mgo mdun ma"},
	{0x000fd4,"tibetan mark closing brda rnying yig mgo sgab ma"},
	{0x000fd9,"tibetan mark leading mchan rtags"},
	{0x000fda,"tibetan mark trailing mchan rtags"},
	{0x00104a,"myanmar sign little section"},
	{0x00104b,"myanmar sign section"},
	{0x00104c,"myanmar symbol locative"},
	{0x00104d,"myanmar symbol completed"},
	{0x00104e,"myanmar symbol aforementioned"},
	{0x00104f,"myanmar symbol genitive"},
	{0x0010fb,"georgian paragraph separator"},
	{0x001360,"ethiopic section mark"},
	{0x001361,"ethiopic wordspace"},
	{0x001362,"ethiopic full stop"},
	{0x001363,"ethiopic comma"},
	{0x001364,"ethiopic semicolon"},
	{0x001365,"ethiopic colon"},
	{0x001366,"ethiopic preface colon"},
	{0x001367,"ethiopic question mark"},
	{0x001368,"ethiopic paragraph separator"},
	{0x00166e,"canadian syllabics full stop"},
	{0x0016eb,"runic single punctuation"},
	{0x0016ec,"runic multiple punctuation"},
	{0x0016ed,"runic cross punctuation"},
	{0x001735,"philippine single punctuation"},
	{0x001736,"philippine double punctuation"},
	{0x0017d4,"khmer sign khan"},
	{0x0017d5,"khmer sign bariyoosan"},
	{0x0017d6,"khmer sign camnuc pii kuuh"},
	{0x0017d8,"khmer sign beyyal"},
	{0x0017d9,"khmer sign phnaek muan"},
	{0x0017da,"khmer sign koomuut"},
	{0x001800,"mongolian birga"},
	{0x001801,"mongolian ellipsis"},
	{0x001802,"mongolian comma"},
	{0x001803,"mongolian full stop"},
	{0x001804,"mongolian colon"},
	{0x001805,"mongolian four dots"},
	{0x001807,"mongolian sibe syllable boundary marker"},
	{0x001808,"mongolian manchu comma"},
	{0x001809,"mongolian manchu full stop"},
	{0x00180a,"mongolian nirugu"},
	{0x001944,"limbu exclamation mark"},
	{0x001945,"limbu question mark"},
	{0x001a1e,"buginese pallawa"},
	{0x001a1f,"buginese end of section"},
	{0x001aa0,"tai tham sign wiang"},
	{0x001aa1,"tai tham sign wiangwaak"},
	{0x001aa2,"tai tham sign sawan"},
	{0x001aa3,"tai tham sign keow"},
	{0x001aa4,"tai tham sign hoy"},
	{0x001aa5,"tai tham sign dokmai"},
	{0x001aa6,"tai tham sign reversed rotated rana"},
	{0x001aa8,"tai tham sign kaan"},
	{0x001aa9,"tai tham sign kaankuu"},
	{0x001aaa,"tai tham sign satkaan"},
	{0x001aab,"tai tham sign satkaankuu"},
	{0x001aac,"tai tham sign hang"},
	{0x001aad,"tai tham sign caang"},
	{0x001b5a,"balinese panti"},
	{0x001b5b,"balinese pamada"},
	{0x001b5c,"balinese windu"},
	{0x001b5d,"balinese carik pamungkah"},
	{0x001b5e,"balinese carik siki"},
	{0x001b5f,"balinese carik pareren"},
	{0x001b60,"balinese pameneng"},
	{0x001bfc,"batak symbol bindu na metek"},
	{0x001bfd,"batak symbol bindu pinarboras"},
	{0x001bfe,"batak symbol bindu judul"},
	{0x001bff,"batak symbol bindu pangolat"},
	{0x001c3b,"lepcha punctuation ta-rol"},
	{0x001c3c,"lepcha punctuation nyet thyoom ta-rol"},
	{0x001c3d,"lepcha punctuation cer-wa"},
	{0x001c3e,"lepcha punctuation tshook cer-wa"},
	{0x001c3f,"lepcha punctuation tshook"},
	{0x001c7e,"ol chiki punctuation mucaad"},
	{0x001c7f,"ol chiki punctuation double mucaad"},
	{0x001cc0,"sundanese punctuation bindu surya"},
	{0x001cc1,"sundanese punctuation bindu panglong"},
	{0x001cc2,"sundanese punctuation bindu purnama"},
	{0x001cc3,"sundanese punctuation bindu cakra"},
	{0x001cc4,"sundanese punctuation bindu leu satanga"},
	{0x001cc5,"sundanese punctuation bindu ka satanga"},
	{0x001cc6,"sundanese punctuation bindu da satanga"},
	{0x001cc7,"sundanese punctuation bindu ba satanga"},
	{0x001cd3,"vedic sign nihshvasa"},
	{0x002000,"en quad"},
	{0x002001,"em quad"},
	{0x002002,"en space"},
	{0x002003,"em space"},
	{0x002004,"three-per-em space"},
	{0x002005,"four-per-em space"},
	{0x002006,"six-per-em space"},
	{0x002007,"figure space"},
	{0x002008,"punctuation space"},
	{0x002009,"thin space"},
	{0x00200a,"hair space"},
	{0x00200b,"zero width space"},
	{0x00200c,"zero width non-joiner"},
	{0x00200d,"zero width joiner"},
	{0x00200e,"left-to-right mark"},
	{0x00200f,"right-to-left mark"},
	{0x002010,"hyphen"},
	{0x002011,"non-breaking hyphen"},
	{0x002012,"figure dash"},
	{0x002013,"en dash"},
	{0x002014,"em dash"},
	{0x002015,"horizontal bar (quotation dash)"},
	{0x002016,"double vertical line (double vertical bar)"},
	{0x002017,"double low line (spacing double underscore)"},
	{0x002018,"left single quotation mark (single turned comma quotation mark)"},
	{0x002019,"right single quotation mark (single comma quotation mark)"},
	{0x00201a,"single low-9 quotation mark (low single comma quotation mark)"},
	{0x00201b,"single high-reversed-9 quotation mark (single reversed comma quotation mark)"},
	{0x00201c,"left double quotation mark (double turned comma quotation mark)"},
	{0x00201d,"right double quotation mark (double comma quotation mark)"},
	{0x00201e,"double low-9 quotation mark (low double comma quotation mark)"},
	{0x00201f,"double high-reversed-9 quotation mark (double reversed comma quotation mark)"},
	{0x002020,"dagger"},
	{0x002021,"double dagger"},
	{0x002022,"bullet"},
	{0x002023,"triangular bullet"},
	{0x002024,"one dot leader"},
	{0x002025,"two dot leader"},
	{0x002026,"horizontal ellipsis"},
	{0x002027,"hyphenation point"},
	{0x002028,"line separator"},
	{0x002029,"paragraph separator"},
	{0x00202a,"left-to-right embedding"},
	{0x00202b,"right-to-left embedding"},
	{0x00202c,"pop directional formatting"},
	{0x00202d,"left-to-right override"},
	{0x00202e,"right-to-left override"},
	{0x00202f,"narrow no-break space"},
	{0x002030,"per mille sign"},
	{0x002031,"per ten thousand sign"},
	{0x002032,"prime"},
	{0x002033,"double prime"},
	{0x002034,"triple prime"},
	{0x002035,"reversed prime"},
	{0x002036,"reversed double prime"},
	{0x002037,"reversed triple prime"},
	{0x002038,"caret"},
	{0x002039,"single left-pointing angle quotation mark (left pointing single guillemet)"},
	{0x00203a,"single right-pointing angle quotation mark (right pointing single guillemet)"},
	{0x00203b,"reference mark"},
	{0x00203c,"double exclamation mark"},
	{0x00203d,"interrobang"},
	{0x00203e,"overline (spacing overscore)"},
	{0x00203f,"undertie"},
	{0x002040,"character tie"},
	{0x002041,"caret insertion point"},
	{0x002042,"asterism"},
	{0x002043,"hyphen bullet"},
	{0x002044,"fraction slash"},
	{0x002045,"left square bracket with quill"},
	{0x002046,"right square bracket with quill"},
	{0x002047,"double question mark"},
	{0x002048,"question exclamation mark"},
	{0x002049,"exclamation question mark"},
	{0x00204a,"tironian sign et"},
	{0x00204b,"reversed pilcrow sign"},
	{0x00204c,"black leftwards bullet"},
	{0x00204d,"black rightwards bullet"},
	{0x00204e,"low asterisk"},
	{0x00204f,"reversed semicolon"},
	{0x002050,"close up"},
	{0x002051,"two asterisks aligned vertically"},
	{0x002052,"commercial minus sign"},
	{0x002053,"swung dash"},
	{0x002054,"inverted undertie"},
	{0x002055,"flower punctuation mark"},
	{0x002056,"three dot punctuation"},
	{0x002057,"quadruple prime"},
	{0x002058,"four dot punctuation"},
	{0x002059,"five dot punctuation"},
	{0x00205a,"two dot punctuation"},
	{0x00205b,"four dot mark"},
	{0x00205c,"dotted cross"},
	{0x00205d,"tricolon"},
	{0x00205e,"vertical four dots"},
	{0x00205f,"medium mathematical space"},
	{0x002060,"word joiner"},
	{0x002061,"function application"},
	{0x002062,"invisible times"},
	{0x002063,"invisible separator"},
	{0x002064,"invisible plus"},
	{0x002066,"left-to-right isolate"},
	{0x002067,"right-to-left isolate"},
	{0x002068,"first strong isolate"},
	{0x002069,"pop directional isolate"},
	{0x00206a,"inhibit symmetric swapping"},
	{0x00206b,"activate symmetric swapping"},
	{0x00206c,"inhibit arabic form shaping"},
	{0x00206d,"activate arabic form shaping"},
	{0x002cf9,"coptic old nubian full stop"},
	{0x002cfa,"coptic old nubian direct question mark"},
	{0x002cfb,"coptic old nubian indirect question mark"},
	{0x002cfc,"coptic old nubian verse divider"},
	{0x002cfe,"coptic full stop"},
	{0x002cff,"coptic morphological divider"},
	{0x002d70,"tifinagh separator mark"},
	{0x002e00,"right angle substitution marker"},
	{0x002e01,"right angle dotted substitution marker"},
	{0x002e02,"left substitution bracket"},
	{0x002e03,"right substitution bracket"},
	{0x002e04,"left dotted substitution bracket"},
	{0x002e05,"right dotted substitution bracket"},
	{0x002e06,"raised interpolation marker"},
	{0x002e07,"raised dotted interpolation marker"},
	{0x002e08,"dotted transposition marker"},
	{0x002e09,"left transposition bracket"},
	{0x002e0a,"right transposition bracket"},
	{0x002e0b,"raised square"},
	{0x002e0c,"left raised omission bracket"},
	{0x002e0d,"right raised omission bracket"},
	{0x002e0e,"editorial coronis"},
	{0x002e0f,"paragraphos"},
	{0x002e10,"forked paragraphos"},
	{0x002e11,"reversed forked paragraphos"},
	{0x002e12,"hypodiastole"},
	{0x002e13,"dotted obelos"},
	{0x002e14,"downwards ancora"},
	{0x002e15,"upwards ancora"},
	{0x002e16,"dotted right-pointing angle"},
	{0x002e17,"double oblique hyphen"},
	{0x002e18,"inverted interrobang"},
	{0x002e19,"palm branch"},
	{0x002e1a,"hyphen with diaeresis"},
	{0x002e1b,"tilde with ring above"},
	{0x002e1c,"left low paraphrase bracket"},
	{0x002e1d,"right low paraphrase bracket"},
	{0x002e1e,"tilde with dot above"},
	{0x002e1f,"tilde with dot below"},
	{0x002e20,"left vertical bar with quill"},
	{0x002e21,"right vertical bar with quill"},
	{0x002e22,"top left half bracket"},
	{0x002e23,"top right half bracket"},
	{0x002e24,"bottom left half bracket"},
	{0x002e25,"bottom right half bracket"},
	{0x002e26,"left sideways u bracket"},
	{0x002e27,"right sideways u bracket"},
	{0x002e28,"left double parenthesis"},
	{0x002e29,"right double parenthesis"},
	{0x002e2a,"two dots over one dot punctuation"},
	{0x002e2b,"one dot over two dots punctuation"},
	{0x002e2c,"squared four dot punctuation"},
	{0x002e2d,"five dot mark"},
	{0x002e2e,"reversed question mark"},
	{0x002e2f,"vertical tilde"},
	{0x002e30,"ring point"},
	{0x002e31,"word separator middle dot"},
	{0x002e32,"turned comma"},
	{0x002e33,"raised dot"},
	{0x002e34,"raised comma"},
	{0x002e35,"turned semicolon"},
	{0x002e36,"dagger with left guard"},
	{0x002e37,"dagger with right guard"},
	{0x002e38,"turned dagger"},
	{0x002e39,"top half section sign"},
	{0x002e3a,"two-em dash"},
	{0x002e3b,"three-em dash"},
	{0x002e3c,"stenographic full stop"},
	{0x002e3d,"vertical six dots"},
	{0x002e3e,"wiggly vertical line"},
	{0x002e3f,"capitulum"},
	{0x002e40,"double hyphen"},
	{0x002e41,"reversed comma"},
	{0x002e42,"double low-reversed-9 quotation mark"},
	{0x002e43,"dash with left upturn"},
	{0x002e44,"double suspension mark"},
	{0x002e45,"inverted low kavyka"},
	{0x002e46,"inverted low kavyka with kavyka above"},
	{0x002e47,"low kavyka"},
	{0x002e48,"low kavyka with dot"},
	{0x002e49,"double stacked comma"},
	{0x002e4a,"dotted solidus"},
	{0x002e4b,"triple dagger"},
	{0x002e4c,"medieval comma"},
	{0x002e4d,"paragraphus mark"},
	{0x002e4e,"punctus elevatus mark"},
	{0x002e4f,"cornish verse divider"},
	{0x003000,"ideographic space"},
	{0x003001,"ideographic comma"},
	{0x003002,"ideographic full stop (ideographic period)"},
	{0x003003,"ditto mark"},
	{0x003004,"japanese industrial standard symbol"},
	{0x003005,"ideographic iteration mark"},
	{0x003006,"ideographic closing mark"},
	{0x003007,"ideographic number zero"},
	{0x003008,"left angle bracket (opening angle bracket)"},
	{0x003009,"right angle bracket (closing angle bracket)"},
	{0x00300a,"left double angle bracket (opening double angle bracket)"},
	{0x00300b,"right double angle bracket (closing double angle bracket)"},
	{0x00300c,"left corner bracket (opening corner bracket)"},
	{0x00300d,"right corner bracket (closing corner bracket)"},
	{0x00300e,"left white corner bracket (opening white corner bracket)"},
	{0x00300f,"right white corner bracket (closing white corner bracket)"},
	{0x003010,"left black lenticular bracket (opening black lenticular bracket)"},
	{0x003011,"right black lenticular bracket (closing black lenticular bracket)"},
	{0x003012,"postal mark"},
	{0x003013,"geta mark"},
	{0x003014,"left tortoise shell bracket (opening tortoise shell bracket)"},
	{0x003015,"right tortoise shell bracket (closing tortoise shell bracket)"},
	{0x003016,"left white lenticular bracket (opening white lenticular bracket)"},
	{0x003017,"right white lenticular bracket (closing white lenticular bracket)"},
	{0x003018,"left white tortoise shell bracket (opening white tortoise shell bracket)"},
	{0x003019,"right white tortoise shell bracket (closing white tortoise shell bracket)"},
	{0x00301a,"left white square bracket (opening white square bracket)"},
	{0x00301b,"right white square bracket (closing white square bracket)"},
	{0x00301c,"wave dash"},
	{0x00301d,"reversed double prime quotation mark"},
	{0x00301e,"double prime quotation mark"},
	{0x00301f,"low double prime quotation mark"},
	{0x003020,"postal mark face"},
	{0x003021,"hangzhou numeral one"},
	{0x003022,"hangzhou numeral two"},
	{0x003023,"hangzhou numeral three"},
	{0x003024,"hangzhou numeral four"},
	{0x003025,"hangzhou numeral five"},
	{0x003026,"hangzhou numeral six"},
	{0x003027,"hangzhou numeral seven"},
	{0x003028,"hangzhou numeral eight"},
	{0x003029,"hangzhou numeral nine"},
	{0x00302a,"ideographic level tone mark"},
	{0x00302b,"ideographic rising tone mark"},
	{0x00302c,"ideographic departing tone mark"},
	{0x00302d,"ideographic entering tone mark"},
	{0x00302e,"hangul single dot tone mark"},
	{0x00302f,"hangul double dot tone mark"},
	{0x003030,"wavy dash"},
	{0x003031,"vertical kana repeat mark"},
	{0x003032,"vertical kana repeat with voiced sound mark"},
	{0x003033,"vertical kana repeat mark upper half"},
	{0x003034,"vertical kana repeat with voiced sound mark upper half"},
	{0x003035,"vertical kana repeat mark lower half"},
	{0x003036,"circled postal mark"},
	{0x003037,"ideographic telegraph line feed separator symbol"},
	{0x003038,"hangzhou numeral ten"},
	{0x003039,"hangzhou numeral twenty"},
	{0x00303a,"hangzhou numeral thirty"},
	{0x00303b,"vertical ideographic iteration mark"},
	{0x00303c,"masu mark"},
	{0x00303d,"part alternation mark"},
	{0x00303e,"ideographic variation indicator"},
	{0x00303f,"ideographic half fill space"},
	{0x0030fb,"katakana middle dot"},
	{0x00a4fe,"lisu punctuation comma"},
	{0x00a4ff,"lisu punctuation full stop"},
	{0x00a60d,"vai comma"},
	{0x00a60e,"vai full stop"},
	{0x00a60f,"vai question mark"},
	{0x00a673,"slavonic asterisk"},
	{0x00a67e,"cyrillic kavyka"},
	{0x00a6f2,"bamum njaemli"},
	{0x00a6f3,"bamum full stop"},
	{0x00a6f4,"bamum colon"},
	{0x00a6f5,"bamum comma"},
	{0x00a6f6,"bamum semicolon"},
	{0x00a6f7,"bamum question mark"},
	{0x00a874,"phags-pa single head mark"},
	{0x00a875,"phags-pa double head mark"},
	{0x00a876,"phags-pa mark shad"},
	{0x00a877,"phags-pa mark double shad"},
	{0x00a8ce,"saurashtra danda"},
	{0x00a8cf,"saurashtra double danda"},
	{0x00a8f8,"devanagari sign pushpika"},
	{0x00a8f9,"devanagari gap filler"},
	{0x00a8fa,"devanagari caret"},
	{0x00a8fc,"devanagari sign siddham"},
	{0x00a92e,"kayah li sign cwi"},
	{0x00a92f,"kayah li sign shya"},
	{0x00a95f,"rejang section mark"},
	{0x00a9c1,"javanese left rerenggan"},
	{0x00a9c2,"javanese right rerenggan"},
	{0x00a9c3,"javanese pada andap"},
	{0x00a9c4,"javanese pada madya"},
	{0x00a9c5,"javanese pada luhur"},
	{0x00a9c6,"javanese pada windu"},
	{0x00a9c7,"javanese pada pangkat"},
	{0x00a9c8,"javanese pada lingsa"},
	{0x00a9c9,"javanese pada lungsi"},
	{0x00a9ca,"javanese pada adeg"},
	{0x00a9cb,"javanese pada adeg adeg"},
	{0x00a9cc,"javanese pada piseleh"},
	{0x00a9cd,"javanese turned pada piseleh"},
	{0x00a9de,"javanese pada tirta tumetes"},
	{0x00a9df,"javanese pada isen-isen"},
	{0x00aa5c,"cham punctuation spiral"},
	{0x00aa5d,"cham punctuation danda"},
	{0x00aa5e,"cham punctuation double danda"},
	{0x00aa5f,"cham punctuation triple danda"},
	{0x00aade,"tai viet symbol ho hoi"},
	{0x00aadf,"tai viet symbol koi koi"},
	{0x00aaf0,"meetei mayek cheikhan"},
	{0x00aaf1,"meetei mayek ahang khudam"},
	{0x00abeb,"meetei mayek cheikhei"},
	{0x00fe10,"presentation form for vertical comma"},
	{0x00fe11,"presentation form for vertical ideographic comma"},
	{0x00fe12,"presentation form for vertical ideographic full stop"},
	{0x00fe13,"presentation form for vertical colon"},
	{0x00fe14,"presentation form for vertical semicolon"},
	{0x00fe15,"presentation form for vertical exclamation mark"},
	{0x00fe16,"presentation form for vertical question mark"},
	{0x00fe17,"presentation form for vertical left white lenticular bracket"},
	{0x00fe18,"presentation form for vertical right white lenticular brakcet"},
	{0x00fe19,"presentation form for vertical horizontal ellipsis"},
	{0x00fe30,"presentation form for vertical two dot leader (glyph for vertical two dot leader)"},
	{0x00fe31,"presentation form for vertical em dash (glyph for vertical em dash)"},
	{0x00fe32,"presentation form for vertical en dash (glyph for vertical en dash)"},
	{0x00fe33,"presentation form for vertical low line (glyph for vertical spacing underscore)"},
	{0x00fe34,"presentation form for vertical wavy low line (glyph for vertical spacing wavy underscore)"},
	{0x00fe35,"presentation form for vertical left parenthesis (glyph for vertical opening parenthesis)"},
	{0x00fe36,"presentation form for vertical right parenthesis (glyph for vertical closing parenthesis)"},
	{0x00fe37,"presentation form for vertical left curly bracket (glyph for vertical opening curly bracket)"},
	{0x00fe38,"presentation form for vertical right curly bracket (glyph for vertical closing curly bracket)"},
	{0x00fe39,"presentation form for vertical left tortoise shell bracket (glyph for vertical opening tortoise shell bracket)"},
	{0x00fe3a,"presentation form for vertical right tortoise shell bracket (glyph for vertical closing tortoise shell bracket)"},
	{0x00fe3b,"presentation form for vertical left black lenticular bracket (glyph for vertical opening black lenticular bracket)"},
	{0x00fe3c,"presentation form for vertical right black lenticular bracket (glyph for vertical closing black lenticular bracket)"},
	{0x00fe3d,"presentation form for vertical left double angle bracket (glyph for vertical opening double angle bracket)"},
	{0x00fe3e,"presentation form for vertical right double angle bracket (glyph for vertical closing double angle bracket)"},
	{0x00fe3f,"presentation form for vertical left angle bracket (glyph for vertical opening angle bracket)"},
	{0x00fe40,"presentation form for vertical right angle bracket (glyph for vertical closing angle bracket)"},
	{0x00fe41,"presentation form for vertical left corner bracket (glyph for vertical opening corner bracket)"},
	{0x00fe42,"presentation form for vertical right corner bracket (glyph for vertical closing corner bracket)"},
	{0x00fe43,"presentation form for vertical left white corner bracket (glyph for vertical opening white corner bracket)"},
	{0x00fe44,"presentation form for vertical right white corner bracket (glyph for vertical closing white corner bracket)"},
	{0x00fe45,"sesame dot"},
	{0x00fe46,"white sesame dot"},
	{0x00fe47,"presentation form for vertical left square bracket"},
	{0x00fe48,"presentation form for vertical right square bracket"},
	{0x00fe49,"dashed overline (spacing dashed overscore)"},
	{0x00fe4a,"centreline overline (spacing centerline overscore)"},
	{0x00fe4b,"wavy overline (spacing wavy overscore)"},
	{0x00fe4c,"double wavy overline (spacing double wavy overscore)"},
	{0x00fe4d,"dashed low line (spacing dashed underscore)"},
	{0x00fe4e,"centreline low line (spacing centerline underscore)"},
	{0x00fe4f,"wavy low line (spacing wavy underscore)"},
	{0x00fe50,"small comma"},
	{0x00fe51,"small ideographic comma"},
	{0x00fe52,"small full stop (small period)"},
	{0x00fe54,"small semicolon"},
	{0x00fe55,"small colon"},
	{0x00fe56,"small question mark"},
	{0x00fe57,"small exclamation mark"},
	{0x00fe58,"small em dash"},
	{0x00fe59,"small left parenthesis (small opening parenthesis)"},
	{0x00fe5a,"small right parenthesis (small closing parenthesis)"},
	{0x00fe5b,"small left curly bracket (small opening curly bracket)"},
	{0x00fe5c,"small right curly bracket (small closing curly bracket)"},
	{0x00fe5d,"small left tortoise shell bracket (small opening tortoise shell bracket)"},
	{0x00fe5e,"small right tortoise shell bracket (small closing tortoise shell bracket)"},
	{0x00fe5f,"small number sign"},
	{0x00fe60,"small ampersand"},
	{0x00fe61,"small asterisk"},
	{0x00fe62,"small plus sign"},
	{0x00fe63,"small hyphen-minus"},
	{0x00fe64,"small less-than sign"},
	{0x00fe65,"small greater-than sign"},
	{0x00fe66,"small equals sign"},
	{0x00fe68,"small reverse solidus (small backslash)"},
	{0x00fe69,"small dollar sign"},
	{0x00fe6a,"small percent sign"},
	{0x00fe6b,"small commercial at"},
	{0x00ff01,"fullwidth exclamation mark"},
	{0x00ff02,"fullwidth quotation mark"},
	{0x00ff03,"fullwidth number sign"},
	{0x00ff04,"fullwidth dollar sign"},
	{0x00ff05,"fullwidth percent sign"},
	{0x00ff06,"fullwidth ampersand"},
	{0x00ff07,"fullwidth apostrophe"},
	{0x00ff08,"fullwidth left parenthesis (fullwidth opening parenthesis)"},
	{0x00ff09,"fullwidth right parenthesis (fullwidth closing parenthesis)"},
	{0x00ff0a,"fullwidth asterisk"},
	{0x00ff0b,"fullwidth plus sign"},
	{0x00ff0c,"fullwidth comma"},
	{0x00ff0d,"fullwidth hyphen-minus"},
	{0x00ff0e,"fullwidth full stop (fullwidth period)"},
	{0x00ff0f,"fullwidth solidus (fullwidth slash)"},
	{0x00ff1a,"fullwidth colon"},
	{0x00ff1b,"fullwidth semicolon"},
	{0x00ff1c,"fullwidth less-than sign"},
	{0x00ff1d,"fullwidth equals sign"},
	{0x00ff1e,"fullwidth greater-than sign"},
	{0x00ff1f,"fullwidth question mark"},
	{0x00ff20,"fullwidth commercial at"},
	{0x00ff3b,"fullwidth left square bracket (fullwidth opening square bracket)"},
	{0x00ff3c,"fullwidth reverse solidus (fullwidth backslash)"},
	{0x00ff3d,"fullwidth right square bracket (fullwidth closing square bracket)"},
	{0x00ff3e,"fullwidth circumflex accent (fullwidth spacing circumflex)"},
	{0x00ff3f,"fullwidth low line (fullwidth spacing underscore)"},
	{0x00ff40,"fullwidth grave accent (fullwidth spacing grave)"},
	{0x00ff5b,"fullwidth left curly bracket (fullwidth opening curly bracket)"},
	{0x00ff5c,"fullwidth vertical line (fullwidth vertical bar)"},
	{0x00ff5d,"fullwidth right curly bracket (fullwidth closing curly bracket)"},
	{0x00ff5e,"fullwidth tilde (fullwidth spacing tilde)"},
	{0x00ff5f,"fullwidth left white parenthesis"},
	{0x00ff60,"fullwidth right white parenthesis"},
	{0x00ff61,"halfwidth ideographic full stop (halfwidth ideographic period)"},
	{0x00ff62,"halfwidth left corner bracket (halfwidth opening corner bracket)"},
	{0x00ff63,"halfwidth right corner bracket (halfwidth closing corner bracket)"},
	{0x00ff64,"halfwidth ideographic comma"},
	{0x00ff65,"halfwidth katakana middle dot"},
	{0x00ff70,"halfwidth katakana-hiragana prolonged sound mark"},
	{0x00ff9e,"halfwidth katakana voiced sound mark"},
	{0x00ff9f,"halfwidth katakana semi-voiced sound mark"},
	{0x00ffa0,"halfwidth hangul filler (halfwidth hangul cae om)"},
	{0x00ffe0,"fullwidth cent sign"},
	{0x00ffe1,"fullwidth pound sign"},
	{0x00ffe2,"fullwidth not sign"},
	{0x00ffe3,"fullwidth macron (fullwidth spacing macron)"},
	{0x00ffe4,"fullwidth broken bar (fullwidth broken vertical bar)"},
	{0x00ffe5,"fullwidth yen sign"},
	{0x00ffe6,"fullwidth won sign"},
	{0x00ffe8,"halfwidth forms light vertical"},
	{0x00ffe9,"halfwidth leftwards arrow"},
	{0x00ffea,"halfwidth upwards arrow"},
	{0x00ffeb,"halfwidth rightwards arrow"},
	{0x00ffec,"halfwidth downwards arrow"},
	{0x00ffed,"halfwidth black square"},
	{0x00ffee,"halfwidth white circle"},
	{0x010100,"aegean word separator line"},
	{0x010101,"aegean word separator dot"},
	{0x010102,"aegean check mark"},
	{0x01039f,"ugaritic word divider"},
	{0x0103d0,"old persian word divider"},
	{0x01056f,"caucasian albanian citation mark"},
	{0x010857,"imperial aramaic section sign"},
	{0x01091f,"phoenician word separator"},
	{0x01093f,"lydian triangular mark"},
	{0x010a50,"kharoshthi punctuation dot"},
	{0x010a51,"kharoshthi punctuation small circle"},
	{0x010a52,"kharoshthi punctuation circle"},
	{0x010a53,"kharoshthi punctuation crescent bar"},
	{0x010a54,"kharoshthi punctuation mangalam"},
	{0x010a55,"kharoshthi punctuation lotus"},
	{0x010a56,"kharoshthi punctuation danda"},
	{0x010a57,"kharoshthi punctuation double danda"},
	{0x010a58,"kharoshthi punctuation lines"},
	{0x010a7f,"old south arabian numeric indicator"},
	{0x010af0,"manichaean punctuation star"},
	{0x010af1,"manichaean punctuation fleuron"},
	{0x010af2,"manichaean punctuation double dot within dot"},
	{0x010af3,"manichaean punctuation dot within dot"},
	{0x010af4,"manichaean punctuation dot"},
	{0x010af5,"manichaean punctuation two dots"},
	{0x010af6,"manichaean punctuation line filler"},
	{0x010b39,"avestan abbreviation mark"},
	{0x010b3a,"tiny two dots over one dot punctuation"},
	{0x010b3b,"small two dots over one dot punctuation"},
	{0x010b3c,"large two dots over one dot punctuation"},
	{0x010b3d,"large one dot over two dots punctuation"},
	{0x010b3e,"large two rings over one ring punctuation"},
	{0x010b3f,"large one ring over two rings punctuation"},
	{0x010b99,"psalter pahlavi section mark"},
	{0x010b9a,"psalter pahlavi turned section mark"},
	{0x010b9b,"psalter pahlavi four dots with cross"},
	{0x010b9c,"psalter pahlavi four dots with dot"},
	{0x010f55,"sogdian punctuation two vertical bars"},
	{0x010f56,"sogdian punctuation two vertical bars with dots"},
	{0x010f57,"sogdian punctuation circle with dot"},
	{0x010f58,"sogdian punctuation two circles with dots"},
	{0x010f59,"sogdian punctuation half circle with dot"},
	{0x011047,"brahmi danda"},
	{0x011048,"brahmi double danda"},
	{0x011049,"brahmi punctuation dot"},
	{0x016fe0,"tangut iteration mark"},
	{0x016fe1,"nushu iteration mark"}
};

struct utf8_punct
{
	struct mjo_utf8 utf8;
	struct punct* punct;
};

int main() {
	icu::UnicodeString uni_str;
	std::string str;
	enum mjo_status status;
	size_t slots;
	size_t slot;
	struct utf8_punct *table;

	slots= (sizeof(punctuation_table) / sizeof(*punctuation_table));

	mjo_calloc((void**)&table, slots, sizeof(struct utf8_punct));

	for (slot= 0; slots > slot; slot++)
	{
		uni_str.setTo(punctuation_table[slot].codepoint);

		str.clear();

		uni_str.toUTF8String(str);

		memcpy(table[slot].utf8.m_block, str.c_str(), str.length());
		table[slot].utf8.m_nil= 0;
		table[slot].utf8.m_octets= str.length();
		table[slot].utf8.m_legal= 1;
		table[slot].punct= &punctuation_table[slot];
	}
	
	printf("struct mjo_utf8 g_utf8_punctuation_table[] = {\n");

	for (slot= 0; slots > slot; slot++)
	{
		int i;

		printf("{1");

		for (i=0; table[slot].utf8.m_octets > i; i++)
		{
			printf(",0x%02x", table[slot].utf8.m_block[i]);
		}

		for (; mjo_utf8_max_octets > i; i++)
		{
			printf(",0x00");
		}

		printf(" /*");
		printf("u+%08x ", table[slot].punct->codepoint);
		printf("%s ", table[slot].punct->comment);
		printf("*/");
		printf(",0");
		printf(",%zu", table[slot].utf8.m_octets);
		printf("}");
		if (slot != slots)
		{
			printf(",");
		}
		printf("\n");
	}

	printf("};\n");

	mjo_free((void**)&table);

	return 0;
}
